# ==============================================================================
# Jira Integration Environment Variables
# ==============================================================================
# Copy this file to .env and fill in your actual values
#
# Required for Jira API access
JIRA_BASE_URL=https://coursedog.atlassian.net
JIRA_EMAIL=your-email@domain.com
JIRA_API_TOKEN=your-jira-api-token

# Optional: Jira project key for filtering (leave empty to search all projects)
JIRA_PROJECT_KEY=

# ==============================================================================
# GitHub Context Variables (for local testing)
# ==============================================================================
# These are automatically set when running in GitHub Actions
# For local testing, set them manually to simulate different scenarios

# Git reference (branch or tag)
# Examples: refs/heads/main, refs/heads/staging, refs/heads/dev
GITHUB_REF=refs/heads/staging

# Event type that triggered the workflow
# Options: push, pull_request, pull_request_target
GITHUB_EVENT_NAME=push

# Path to the GitHub event payload file
# For local testing, use ./update_jira/event.local.json
GITHUB_EVENT_PATH=./update_jira/event.local.json

# Repository in owner/repo format
GITHUB_REPOSITORY=coursedog/notion-scripts

# GitHub token for API access (required for fetching commit data)
GITHUB_TOKEN=your-github-token

# ==============================================================================
# Testing Variables
# ==============================================================================
# For running verification and test scripts

# Test issue key for custom field verification
TEST_JIRA_ISSUE_KEY=DEX-36

# Enable dry-run mode (will log actions but not actually update Jira)
# DRY_RUN=true

# ==============================================================================
# Custom Field Configuration Reference
# ==============================================================================
# The following custom fields are used for deployment tracking (from ALL-593):
#
# customfield_11473: Release Environment (select field)
#   - Option ID 11942: staging
#   - Option ID 11943: production
#
# customfield_11474: Stage Release Timestamp (datetime)
#   - Set automatically on staging deployments
#
# customfield_11475: Production Release Timestamp (datetime)
#   - Set automatically on production deployments
#
# To verify these field IDs are correct for your Jira instance:
#   node utils/verify-custom-fields.js
#
# To test updating these fields:
#   node utils/test-custom-field-update.js DEX-36
